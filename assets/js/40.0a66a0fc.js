(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{315:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"auth-工具类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#auth-工具类"}},[t._v("#")]),t._v(" auth 工具类")]),t._v(" "),s("p",[t._v("Bot 内置了一套权限系统，在部分需要权限的场景（如响应指令），bot 将仅会对权限满足要求的用户相应操作。")]),t._v(" "),s("p",[t._v("内置的权限等级有（从大到小排列）: "),s("code",[t._v("Master（主人）")]),t._v("、"),s("code",[t._v("Manager（管理员）")]),t._v("、"),s("code",[t._v("User（普通用户）")]),t._v("、"),s("code",[t._v("Banned（封禁用户）")]),t._v("，高级的权限等级拥有自身和次一级的所有权限。")]),t._v(" "),s("p",[t._v("开发者可以通过此工具类来获取/控制用户权限，来实现一些自定义的操作。")]),t._v(" "),s("p",[t._v("具体 api 调用可以翻阅 "),s("RouterLink",{attrs:{to:"/api/global/auth.html"}},[t._v("工具类 Auth Api")])],1),t._v(" "),s("h2",{attrs:{id:"设置用户权限等级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置用户权限等级"}},[t._v("#")]),t._v(" 设置用户权限等级")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("set()")]),t._v(" 方法可以设置指定用户的权限等级。")]),t._v(" "),s("p",[t._v("示例: 赋予 QQ 为 114514191 的用户管理员权限：")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" bot "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ROOT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AuthLevel "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@/modules/management/auth"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114514191")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" AuthLevel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Manager "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"获取用户权限等级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取用户权限等级"}},[t._v("#")]),t._v(" 获取用户权限等级")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("get()")]),t._v(" 方法可以对指定目标设置响应间隔时间。")]),t._v(" "),s("p",[t._v("示例: 获取 QQ 为 114514191 的用户权限等级：")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" bot "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ROOT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114514191")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"比对用户权限等级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#比对用户权限等级"}},[t._v("#")]),t._v(" 比对用户权限等级")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("check()")]),t._v(" 方法可以比对用户是否具有某个权限等级的权限")]),t._v(" "),s("p",[t._v("示例：检测 QQ 为 114514191 的用户当前是否拥有管理员的权限：")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" bot "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ROOT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AuthLevel "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@/modules/management/auth"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("check")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114514191")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" AuthLevel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Manager "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);